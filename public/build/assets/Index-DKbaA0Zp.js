import{C as S,s as g,d as E,e as o,o as r,a as e,f as u,b as N,w as j,g as B,u as b,S as v,t as n,v as D,A as T,F as _,h as w,q as V,c as M,n as k,D as A,m as F}from"./app-BmHEX1d4.js";import{_ as H}from"./AppLayout-D7lg-wTe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"flex items-center justify-between mb-6"},O={key:0,class:"mb-4 p-4 rounded bg-green-100 text-green-800 border border-green-300 shadow"},U={class:"overflow-x-auto bg-white shadow rounded-lg"},q={class:"mb-4"},z={class:"min-w-full divide-y divide-gray-200"},I={class:"divide-y divide-gray-200"},G={class:"px-6 py-4 text-gray-800"},J={class:"px-6 py-4 text-gray-800"},K={class:"px-6 py-4 text-gray-800"},P={class:"px-6 py-4 text-gray-800"},Q={class:"px-6 py-4 text-gray-800"},R={class:"px-6 py-4 text-right space-x-2"},W=["onSubmit"],X={key:0,class:"text-center text-gray-500 py-4"},Y={key:1,class:"mt-4 flex justify-center space-x-2"},se=Object.assign({layout:H},{__name:"Index",props:{entradas:Object},setup(p){const C=p,x=S().props.flash,m=g(()=>x.success||x.message),d=E(""),y=g(()=>{const a=d.value.toLowerCase();return C.entradas.data.filter(s=>{var l,c,f,h;const t=((c=(l=s.user)==null?void 0:l.name)==null?void 0:c.toLowerCase())||"",i=((h=(f=s.tipoalerta)==null?void 0:f.descripcion)==null?void 0:h.toLowerCase())||"";return s.descripcion.toLowerCase().includes(a)||s.fecha.toLowerCase().includes(a)||s.hora.toLowerCase().includes(a)||t.includes(a)||i.includes(a)})});function L(a){confirm("¿Estás seguro de eliminar esta entrada?")&&F.delete(`/entrada/${a}`,{preserveScroll:!0,preserveState:!1})}return(a,s)=>(r(),o("div",null,[e("div",$,[s[2]||(s[2]=e("h1",{class:"text-3xl font-bold text-gray-800"},"Entradas",-1)),N(b(v),{href:a.route("entrada.create"),class:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded shadow"},{default:j(()=>s[1]||(s[1]=[B(" + Nueva entrada ")])),_:1},8,["href"])]),m.value?(r(),o("div",O,n(m.value),1)):u("",!0),e("div",U,[e("div",q,[D(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>d.value=t),type:"text",placeholder:"Buscar entrada...",class:"w-full sm:w-1/3 px-4 py-2 border border-gray-300 rounded shadow-sm focus:outline-none focus:ring focus:ring-blue-200"},null,512),[[T,d.value]])]),e("table",z,[s[4]||(s[4]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-sm font-semibold text-gray-700"},"Descripción"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold text-gray-700"},"Fecha"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold text-gray-700"},"Hora"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold text-gray-700"},"Usuario"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold text-gray-700"},"Tipo de Alerta"),e("th",{class:"px-6 py-3 text-right text-sm font-semibold text-gray-700"},"Acciones")])],-1)),e("tbody",I,[(r(!0),o(_,null,w(y.value,t=>{var i,l;return r(),o("tr",{key:t.id},[e("td",G,n(t.descripcion),1),e("td",J,n(t.fecha),1),e("td",K,n(t.hora),1),e("td",P,n(((i=t.user)==null?void 0:i.name)||"—"),1),e("td",Q,n(((l=t.tipoalerta)==null?void 0:l.descripcion)||"—"),1),e("td",R,[e("form",{onSubmit:V(c=>L(t.id),["prevent"]),class:"inline"},s[3]||(s[3]=[e("button",{type:"submit",class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded shadow"}," Eliminar ",-1)]),40,W)])])}),128))])]),y.value.length===0?(r(),o("div",X," No se encontraron entradas. ")):u("",!0),d.value?u("",!0):(r(),o("div",Y,[(r(!0),o(_,null,w(p.entradas.links,t=>(r(),M(A(t.url?b(v):"span"),{key:t.label,href:t.url,class:k(["px-3 py-1 rounded border text-sm",{"bg-blue-600 text-white font-semibold":t.active,"bg-white text-gray-700 hover:bg-gray-100":!t.active,"cursor-not-allowed opacity-50":!t.url}]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))]))])]))}});export{se as default};
