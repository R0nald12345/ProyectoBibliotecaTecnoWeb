import{e as h,o as d,a as e,d as M,j as D,K as N,s as A,v as E,b as r,r as x,N as $,u as a,L,w as n,n as l,T,c as _,S as f,C as H,p as V,f as B,t as w,F,h as R,g as c,q as G,G as I}from"./app-_NRAJ5FR.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={},U={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function q(p,u){return d(),h("svg",U,u[0]||(u[0]=[e("path",{d:"M11.395 44.428C4.557 40.198 0 32.632 0 24 0 10.745 10.745 0 24 0a23.891 23.891 0 0113.997 4.502c-.2 17.907-11.097 33.245-26.602 39.926z",fill:"#6875F5"},null,-1),e("path",{d:"M14.134 45.885A23.914 23.914 0 0024 48c13.255 0 24-10.745 24-24 0-3.516-.756-6.856-2.115-9.866-4.659 15.143-16.608 27.092-31.75 31.751z",fill:"#6875F5"},null,-1)]))}const K=O(P,[["render",q]]),J={class:"relative"},Q={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:Array,default:()=>["py-1","bg-white"]}},setup(p){const u=p;let o=M(!1);const y=m=>{o.value&&m.key==="Escape"&&(o.value=!1)};D(()=>document.addEventListener("keydown",y)),N(()=>document.removeEventListener("keydown",y));const k=A(()=>({48:"w-48"})[u.width.toString()]),g=A(()=>u.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":u.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top");return(m,v)=>(d(),h("div",J,[e("div",{onClick:v[0]||(v[0]=b=>$(o)?o.value=!a(o):o=!a(o))},[x(m.$slots,"trigger")]),E(e("div",{class:"fixed inset-0 z-40",onClick:v[1]||(v[1]=b=>$(o)?o.value=!1:o=!1)},null,512),[[L,a(o)]]),r(T,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:n(()=>[E(e("div",{class:l(["absolute z-50 mt-2 rounded-md shadow-lg",[k.value,g.value]]),style:{display:"none"},onClick:v[2]||(v[2]=b=>$(o)?o.value=!1:o=!1)},[e("div",{class:l(["rounded-md ring-1 ring-black ring-opacity-5",p.contentClasses])},[x(m.$slots,"content")],2)],2),[[L,a(o)]])]),_:3})]))}},W={key:0,type:"submit",class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},X=["href"],z={__name:"DropdownLink",props:{href:String,as:String},setup(p){return(u,o)=>(d(),h("div",null,[p.as=="button"?(d(),h("button",W,[x(u.$slots,"default")])):p.as=="a"?(d(),h("a",{key:1,href:p.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},[x(u.$slots,"default")],8,X)):(d(),_(a(f),{key:2,href:p.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},{default:n(()=>[x(u.$slots,"default")]),_:3},8,["href"]))]))}},Y={class:"min-h-screen flex theme-container"},Z={class:"w-64 sidebar text-white p-6 hidden md:flex flex-col shadow-xl min-h-screen"},ee={class:"mb-8 flex items-center gap-2"},te={class:"mb-6 relative"},se={class:"text-lg"},oe={class:"flex-1 text-left"},ne={class:"font-medium"},ae={key:0,class:"absolute top-full left-0 right-0 mt-2 theme-dropdown rounded-lg shadow-lg z-50"},re={class:"p-2 space-y-1"},ie=["onClick"],le={class:"text-lg"},de={class:"flex-1 text-left"},ue={class:"font-medium"},ce={class:"text-xs opacity-75"},fe={class:"flex-1 space-y-2"},pe={class:"flex-1 flex flex-col"},ve={class:"top-nav backdrop-blur border-b px-6 py-3 flex items-center justify-between shadow-sm"},he={class:"block md:hidden"},me={class:"flex items-center gap-4"},ge={class:"text-sm font-medium user-name"},ke={class:"flex-1 p-8 main-content"},we="Biblioteca",Me={__name:"AppLayout",setup(p){const o=H().props.auth.user,y=M(!1),k=M("theme-light"),g=M(!1),m=[{id:"theme-light",name:"Claro",icon:"☀️",description:"Tema claro y profesional"},{id:"theme-dark",name:"Oscuro",icon:"🌙",description:"Tema oscuro para reducir fatiga visual"},{id:"theme-kids",name:"Niños",icon:"🎨",description:"Tema colorido y divertido para niños"}];function v(s){k.value=s,document.documentElement.classList.remove("theme-light","theme-dark","theme-kids"),document.documentElement.classList.add(s),localStorage.setItem("biblioteca-theme",s),g.value=!1}D(()=>{const s=localStorage.getItem("biblioteca-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;v(s||(t?"theme-dark":"theme-light"))});const b=()=>{I.post(route("logout"))},S=s=>Array.isArray(o==null?void 0:o.roles)&&o.roles.some(t=>t.name===s);return(s,t)=>{var C,j;return d(),h("div",null,[r(a(V),{title:we}),e("div",Y,[e("aside",Z,[e("div",ee,[r(a(f),{href:s.route("dashboard")},{default:n(()=>[r(K,{class:"h-10 w-auto"})]),_:1},8,["href"]),t[2]||(t[2]=e("span",{class:"font-bold text-lg tracking-wide"},"Biblioteca",-1))]),e("div",te,[e("button",{onClick:t[0]||(t[0]=i=>g.value=!g.value),class:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition theme-selector-button"},[e("span",se,w((C=m.find(i=>i.id===k.value))==null?void 0:C.icon),1),e("div",oe,[e("div",ne,w((j=m.find(i=>i.id===k.value))==null?void 0:j.name),1),t[3]||(t[3]=e("div",{class:"text-xs opacity-75"},"Cambiar tema",-1))]),(d(),h("svg",{class:l(["w-4 h-4 transform transition-transform",{"rotate-180":g.value}]),fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},t[4]||(t[4]=[e("path",{d:"M19 9l-7 7-7-7","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]),2))]),g.value?(d(),h("div",ae,[e("div",re,[(d(),h(F,null,R(m,i=>e("button",{key:i.id,onClick:xe=>v(i.id),class:l(["w-full flex items-center gap-3 px-3 py-2 rounded-lg transition theme-option",{"theme-option-active":k.value===i.id}])},[e("span",le,w(i.icon),1),e("div",de,[e("div",ue,w(i.name),1),e("div",ce,w(i.description),1)])],10,ie)),64))])])):B("",!0)]),e("nav",fe,[r(a(f),{href:s.route("dashboard"),class:l(["nav-link flex items-center gap-3 px-4 py-2 rounded-lg transition",{"nav-link-active":s.route().current("dashboard")}])},{default:n(()=>t[5]||(t[5]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M3 12l9-9 9 9M4 10v10h16V10","stroke-linecap":"round","stroke-linejoin":"round"})],-1),c(" Dashboard ")])),_:1},8,["href","class"]),r(a(f),{href:s.route("gestion.index"),class:l(["nav-link flex items-center gap-3 px-4 py-2 rounded-lg transition",{"nav-link-active":s.route().current("gestion.*")}])},{default:n(()=>t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M4 6h16M4 12h16M4 18h16","stroke-linecap":"round","stroke-linejoin":"round"})],-1),c(" Gestiones ")])),_:1},8,["href","class"]),S("admin")?(d(),_(a(f),{key:0,href:s.route("usuarios.index"),class:l(["nav-link flex items-center gap-3 px-4 py-2 rounded-lg transition",{"nav-link-active":s.route().current("usuarios.*")}])},{default:n(()=>t[7]||(t[7]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M17 20h5v-2a4 4 0 00-3-3.87M9 20H4v-2a4 4 0 013-3.87M16 3.13a4 4 0 010 7.75M8 3.13a4 4 0 000 7.75","stroke-linecap":"round","stroke-linejoin":"round"})],-1),c(" Usuarios ")])),_:1},8,["href","class"])):B("",!0),r(a(f),{href:s.route("asistencia.index"),class:l(["nav-link flex items-center gap-3 px-4 py-2 rounded-lg transition",{"nav-link-active":s.route().current("asistencia.*")}])},{default:n(()=>t[8]||(t[8]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M17 20h5v-2a4 4 0 00-3-3.87M9 20H4v-2a4 4 0 013-3.87M16 3.13a4 4 0 010 7.75M8 3.13a4 4 0 000 7.75","stroke-linecap":"round","stroke-linejoin":"round"})],-1),c(" Asistencia E ")])),_:1},8,["href","class"]),r(a(f),{href:s.route("asistencia.index2"),class:l(["nav-link flex items-center gap-3 px-4 py-2 rounded-lg transition",{"nav-link-active":s.route().current("asistencia.*")}])},{default:n(()=>t[9]||(t[9]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M17 20h5v-2a4 4 0 00-3-3.87M9 20H4v-2a4 4 0 013-3.87M16 3.13a4 4 0 010 7.75M8 3.13a4 4 0 000 7.75","stroke-linecap":"round","stroke-linejoin":"round"})],-1),c(" Asistencia S ")])),_:1},8,["href","class"]),S("admin")?(d(),_(a(f),{key:1,href:s.route("roles.index"),class:l(["nav-link flex items-center gap-3 px-4 py-2 rounded-lg transition",{"nav-link-active":s.route().current("roles.*")}])},{default:n(()=>t[10]||(t[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M17 20h5v-2a4 4 0 00-3-3.87M9 20H4v-2a4 4 0 013-3.87M16 3.13a4 4 0 010 7.75M8 3.13a4 4 0 000 7.75","stroke-linecap":"round","stroke-linejoin":"round"})],-1),c(" Roles ")])),_:1},8,["href","class"])):B("",!0),r(a(f),{href:s.route("entrada.index"),class:l(["nav-link flex items-center gap-3 px-4 py-2 rounded-lg transition",{"nav-link-active":s.route().current("entrada.*")}])},{default:n(()=>t[11]||(t[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M17 20h5v-2a4 4 0 00-3-3.87M9 20H4v-2a4 4 0 013-3.87M16 3.13a4 4 0 010 7.75M8 3.13a4 4 0 000 7.75","stroke-linecap":"round","stroke-linejoin":"round"})],-1),c(" Asistencia Entrada ")])),_:1},8,["href","class"]),r(a(f),{href:s.route("salida.index"),class:l(["nav-link flex items-center gap-3 px-4 py-2 rounded-lg transition",{"nav-link-active":s.route().current("salidas.*")}])},{default:n(()=>t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M17 20h5v-2a4 4 0 00-3-3.87M9 20H4v-2a4 4 0 013-3.87M16 3.13a4 4 0 010 7.75M8 3.13a4 4 0 000 7.75","stroke-linecap":"round","stroke-linejoin":"round"})],-1),c(" Asistencia Salida ")])),_:1},8,["href","class"])]),t[13]||(t[13]=e("div",{class:"mt-auto pt-6 border-t sidebar-footer"},[e("span",{class:"text-xs opacity-75"},"© 2024 Biblioteca")],-1))]),e("div",pe,[e("nav",ve,[e("div",he,[e("button",{class:"text-2xl nav-toggle",onClick:t[1]||(t[1]=i=>y.value=!y.value)},t[14]||(t[14]=[e("svg",{class:"w-7 h-7",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{d:"M4 6h16M4 12h16M4 18h16","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),e("div",me,[e("span",ge,w(s.$page.props.auth.user.name),1),r(Q,{align:"right",width:"48"},{trigger:n(()=>t[15]||(t[15]=[e("button",{class:"flex items-center gap-2 px-3 py-1 rounded transition profile-button"},[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})]),c(" Perfil ")],-1)])),content:n(()=>[r(z,{href:s.route("profile.show")},{default:n(()=>t[16]||(t[16]=[c("Perfil")])),_:1},8,["href"]),e("form",{onSubmit:G(b,["prevent"])},[r(z,{as:"button"},{default:n(()=>t[17]||(t[17]=[c("Cerrar sesión")])),_:1})],32)]),_:1})])]),e("main",ke,[x(s.$slots,"default")])])])])}}};export{Me as _};
